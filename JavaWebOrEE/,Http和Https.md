# 网站建立连接的过程
* 用户输入网站地址，发出连接请求，基于http协议
1.域名(DNS)解析：
	首先在本机的hosts配置文件中去寻找有没有本地配置，若有，则通过本地地址调用webapps应用程序
	若在本地找不到，则连接互联网的DNS服务器去查找域名(全世界的域名都在DNS服务器中有存储)，
2. 发起TCP/IP的三次握手
3. web浏览器向服务器发出http/https请求命令
4. web浏览器向服务器发出http/https请求头信息(请求报文)
	* 方法：POST
	* URL：地位符
	* 协议版本：HTTP/1.1
	* 请求首部字段
	* 内容实体
5. web服务器应答
6. web服务器发送应答头信息(报文)
	* 协议版本：
	* 状态码：200,404,500...
	* 想要首部字段
	* 主体(即发送的html文本)
7. 服务器向浏览器发送数据(流量控制，拥塞控制，滑动窗口控制)
8. 服务器关闭TCP/IP连接(四次挥手)

* HTTP与TCP/IP的关系
	1. HTTP是应用层协议，主要解决如何包装数据
	2. TCP/IP是传输层协议，解决数据如何在网络传输
	3. 一般使用HTTP协议做为应用层协议，以封装HTTP文本信息，然后使用TCP/IP协议做传输层协议将信息发布到网络
	
* CA证书？
	1. certificate authority负责管理和签发证书的第三方权威机构。
	2. CA证书主要用于验证网站是否可信(针对https)，验证文件是否可信(是否被篡改)

* HTTPS的握手过程：HTTPS是在http的基础上加入了SSL协议用于身份验证和加密
	1. 客服端发起https请求
	2. 服务器本地需要有一套自己的数字证书(自己制作或CA证书)，证书有一个给别人加密用的公匙和自己解密用的私匙
	3. 服务器传输证书(公匙)，包含证书的信息
	4. 客户端解析证书(由客户端的TLS完成)，若证书没问题，会生成一个随机数，使用证书对该随机数加密
	5. 传送加密信息，客户端再将得到的随机数传输给服务端
	6. 服务端解密信息，服务器使用私匙解密得到随机数，再将内容和该值进行对称加密，将信息和四匙通过加密算法混合在一起。
	7. 传输加密之后的信息，将信息发送的网络上进行传输，从服务器端到客户端
	8. 客户端还原加密后的数据，通过生成的私匙对信息进行解密
* HTTPS的加密
	1. 加密发生在传输层，
	2. 在将https报文包装为tcp报文时，无论是报文头还是报文身都会被加密
	3. 当对https使用tcp层(传输层)工具抓包(tcpdump或者wireshark)时，获取到的是加密的内容
	4. 若使用应用层工具进行抓包时(Charels(Mac)、Fildder(Windows))，仍然能够看到明文信息
* HTTP和HTTPS的区别：
	1. 相对于http的明文传输(抓包之后可直接解析)，https使用了更加安全的ssl协议加密
	2. http直接使用tcp进行了数据的传输，https则进过了一层ssl(OSI表示层)，
	3. http默认端口为80，https端口为443
	4. http的连接时简单的，无状态的，https是由ssl和http协议构建的更加安全的网络协议
* 三握四挥发生在哪个层：
	1. 三握四挥是基于tcp传输协议拥有数据传输的可靠性，
	2. 是发生在传输层的事件