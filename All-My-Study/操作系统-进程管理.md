## 进程管理



#### 1. 进程与线程：
* 进程：进程是资源分配的基本单位，包含若干个线程，包含一个属于进程的内存。包含文件/网络句柄。有进程控制块对进程进行操作。
* 线程：线程是独立调度的基本单位，属于进程，包含栈，栈中包含变量等信息，PC寄存器，存放下一个运行指令的地址，TLS(独立内存)，线程申请的资源都来自与自己所属的进程。
* 进程隔离程序，线程隔离操作。
* 进程切换，同一个进程中的不同线程切换不会引发进程切换。进程切换消耗资源，因为在切换时要进行进程快照


#### 2. 进程状态及状态切换

* 就绪状态(ready)：等待被调度，或等待cpu时间片的分配
* 运行状态(running)：获得cpu时间片和运行相关资源进入到运行状态
* 阻塞状态(waiting)：等待资源，从运行状态转换。

  **各状态关系：**

* 只有就绪状态和运行状态可以两者来回切换，就绪状态的进程通过调度算法获得cpu时间，运行，若分配的时间片用完则转为就绪状态，再等待调度算法的计算
* 阻塞状态是在运行状态时，因为缺少了除cpu时间片之外的必要进程资源，从而陷入阻塞。

#### 3. 进程调度算法

1. 批处理系统：没有太多的用户操作，仅保证吞吐量和周转时间
   * 先来先服务 first-come first-serverd(FCFS)：先来后到，有利于长作业，不利于短作业
   * 短作业优先 shortest job first(SJF)：按估计运行时间长短进行调度，过长的长作业可能饿死。
   * 最短剩余时间优先shortest remaining time next(SRTN)：抢占式算法，若到达的进程估计时间比正在运行的进程更短，则挂起当前正在运行线程，优先运行剩余时间更短的线程
1. 交互式系统：大量的和用户交互的进程，需要快速进行响应
   * 时间片轮转：对所有就绪进程按照先来先到的顺序进行时间片的分配，一次执行一个时间片。按照队列进行，执行玩一个时间片之后就到队末排队。该算法的效率和时间片的大小有很大关系，若时间片过短，则频繁的线程切换就需要花费许多的资源和时间；若时间片过大，则又使得系统的实时性响应不能够得到执行
   * 优先级调度：为每个进行分配优先级，和线程的优先级类似。为防止低优先级的进程一致处于就绪状态，可以根据时间不断的增加低优先级进程的优先级。
   * 多级反馈队列：前两个算法的结合使用。分配带有不同时间片大小的队列，并使不同优先级的进程来进入不同的队列。
3. 实时系统：要求一个请求在一个确定的时间内得到响应。分为硬实时和软实时，前者必须满足绝对的截止时间，后者可以忍受一定的超时。

#### 4. 进程同步

1. 临界区：对临界资源进行访问的代码被称为临界区
2. 同步和互斥：
   * 同步：多个进程因为合作产生的直接制约关系，使得进程有先后执行关系。
   * 互斥：多个进程在同一个时刻只有一个能够进入到临界区访问到公共资源



#### 5. 进程间通信

1. 共享内存：多个进程可以在对同一个文件进程操作并获取到数据，不过需要使用信号量来对进程的操作顺序进行一定的同步
2. 管道/命名管道(FIFO)：管道通信只能在父子进行间进行，命名管道需要在内部代码实现，常用于客户-服务器应用程序间的通信
3. 消息队列：可以独立在管道进程之外为其它进程通过通信服务，可以避免命FIFO的同步阻塞问题，不需要进程自己通过同步方法。
4. 套接字：最常用的一种，一般用于和远端的程序通信的使用方式。



进程间通信：
 1. 文件：通过操作同一个文件，读文件，写文件，一般不常用

 2. Signal：一个进程给另一个进程发送信号。一般是运用中断来实现

    * 以linux为例：：
      	ps：查看进程
      	kill -1：查看kill帮助
      	kill -2 进程id：相当于Ctrl+c 结束进程
      	kill -9 进程id：强制结束进程，广泛用

    1. 消息队列：
    2. 管道/命名管道：
       * less 文件名：查看文件内容
       * cat 文件名：在中断中显示文件内存
       * grep -e 查找的内容”“ --color ：在终端中查找内存
       * cat 文件名 | grep -e "所需查找的字段" --color ：通过|管道低两个命令进行整和 输出为文件中所查找的字段出现的行
       * wc : x  y   z  : x为有几行，y代表有几个单词，z代表有多少个字符数，对终端的内存进行统计
         cat 文件名 | grep -e "所需查找的字段" --color | wc ：对在日志的的查找字段进行统计
         命名管道的实现需要在程序内部使用代码实现！
         	

5，共享内存：

6，同步机制，如信号量等：

7，最重要的，Socket通信：通过ip地址和端口，使用tcp/ip协议


​	
常见的操作系统问题
​	1，进程和线程的区别;
​	2，简要说说寻找的过程：
​	3，32位操作系统和64位操作系统的区别是什么：
​	4，说出你知道的进程减通信的机制：
​	5，简要说一下终端的概念和流程：

杂项：
	线程是程序的多个顺序的流动态执行；
	线程不能够独立执行，必须依存在运用程序中，由应用程序提供多个线程执行控制



* 寻址空间：
  	32位操作系统：4G寻址空间
  	64位操作系统：寻址10^19byte的空间
  	 

读取一个数据首先查找其地址，
首先在物理内存中查找，有就读取
否则在硬盘中通过已经进行分页的虚拟内存查找，
首先通过将分页的虚拟内存放入物理内存，也即交换，再在物理内存中查找



存储和寻找：
	硬盘：可长久存放数据
	内存：8+8，可快速的进行随机访问
	缓冲：cpu中的模块，分为cpu公有或CPU独有
	寄存器：懂的。